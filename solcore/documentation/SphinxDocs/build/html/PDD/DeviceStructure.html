<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Device Structure &mdash; Solcore 4.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Solcore 4.1.0 documentation" href="../index.html" />
    <link rel="up" title="Poisson - Drift-Diffusion solver (PDD)" href="DDsolver.html" />
    <link rel="next" title="Drift Diffusion Utilities" href="DriftDiffusionUtilities.html" />
    <link rel="prev" title="Poisson - Drift-Diffusion solver (PDD)" href="DDsolver.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="DriftDiffusionUtilities.html" title="Drift Diffusion Utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="DDsolver.html" title="Poisson - Drift-Diffusion solver (PDD)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Solcore 4.1.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="DDsolver.html" accesskey="U">Poisson - Drift-Diffusion solver (PDD)</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="device-structure">
<h1>Device Structure<a class="headerlink" href="#device-structure" title="Permalink to this headline">¶</a></h1>
<p>This module contains the functions necesary to build a sample structure that can be read by the DD solver, as well functions for saving and loading that structure to/from a file. Typically, you will need to use only the <a class="reference internal" href="#main-functions"><span class="std std-ref">Main functions</span></a>.</p>
<div class="section" id="main-functions">
<span id="id1"></span><h2>Main functions<a class="headerlink" href="#main-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="CreateDeviceStructure">
<code class="descname">CreateDeviceStructure</code><span class="sig-paren">(</span><em>name</em><span class="optional">[</span>, <em>role='device'</em>, <em>T=293</em>, <em>layers=[]</em>, <em>comments=''</em>, <em>repeat=1</em>, <em>substrate=DefaultMaterial</em>, <em>reflection=None</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CreateDeviceStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary with subdctionaries and lists storing all the parameters and material information necesary to solve the Poisson - Drift-Diffusion equations.</p>
<p><em>Layers</em> is a list of objects of class <em>solcore3.Layer</em> or other dictionary created previously with this function. If a file containing the absorption coeficient of the layer is to be used (2 columns, 1st the wavelengths 2nd the absorption), it must be included here as an option (with keyword &#8216;absorption_file&#8217;, relative path) when creating the <em>solcore3.material</em> of that layer. Any property not defined explicitly in the definition of the materials for the layers and that can not be calculated by <code class="docutils literal"><span class="pre">solcore3</span></code> is taken from the default material (see section <a class="reference internal" href="#default-material"><span class="std std-ref">Default material</span></a>). <em>substrate</em> must be a <em>solcore3.material</em>, otherwise the default material is used.</p>
<p>The path to an external file with the reflection of the sample (2 columns, 1st the wavelengths 2nd the reflection) can also be included. <strong>Note</strong>: the reflection is not saved in the <em>json</em> file nor externally, so this file should always go with the json file to be used.</p>
<p><strong>Output</strong>: dictionary with all the information of the structure.</p>
<p><strong>Example 1:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Example 1</span>
<span class="c1"># ---------</span>
<span class="c1"># This example illustrates the creation of a p-i-n solar cell structure including AlGaAs window and back surface field layers.</span>
<span class="c1"># A custom absorption coefficient for the GaAs of the intrinsic layer is used.</span>

<span class="kn">import</span> <span class="nn">solcore3.PDD</span> <span class="k">as</span> <span class="nn">PDD</span>
<span class="kn">from</span> <span class="nn">solcore3</span> <span class="k">import</span> <span class="n">Layer</span><span class="p">,</span> <span class="n">material</span>

<span class="c1"># First, we create the materials, overriding any default property we want, such as the doping or the absorption coefficient</span>
<span class="n">window</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;AlGaAs&#39;</span><span class="p">)</span>    <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Na</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e24</span><span class="p">,</span> <span class="n">Al</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">p_GaAs</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">)</span>      <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Na</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e24</span><span class="p">)</span>
<span class="n">i_GaAs</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">)</span>      <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">absorption_file</span> <span class="o">=</span> <span class="s1">&#39;MyGaAs_Absorption.dat&#39;</span><span class="p">)</span>
<span class="n">n_GaAs</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">)</span>      <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Nd</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e23</span><span class="p">)</span>
<span class="n">bsf</span>         <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;AlGaAs&#39;</span><span class="p">)</span>    <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Nd</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e24</span><span class="p">,</span> <span class="n">Al</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>

<span class="c1"># Then, we create the structure, adding the layers as a list</span>
<span class="n">MyDevice</span> <span class="o">=</span> <span class="n">PDD</span><span class="o">.</span><span class="n">CreateDeviceStructure</span><span class="p">(</span> <span class="s1">&#39;TestDevice&#39;</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">layers</span> <span class="o">=</span> <span class="p">[</span>
                                        <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">30</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>         <span class="n">material</span> <span class="o">=</span> <span class="n">window</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Window&quot;</span><span class="p">),</span>
                                        <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">400</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">p_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Emitter&quot;</span><span class="p">),</span>
                                        <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">400</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">i_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Intrinsic&quot;</span><span class="p">),</span>
                                        <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">2000</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>       <span class="n">material</span> <span class="o">=</span> <span class="n">n_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Base&quot;</span><span class="p">),</span>
                                        <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">200</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">bsf</span><span class="p">,</span>              <span class="n">role</span><span class="o">=</span><span class="s2">&quot;BSF&quot;</span><span class="p">)</span>
                                        <span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="SolveQWproperties">
<code class="descname">SolveQWproperties</code><span class="sig-paren">(</span><em>device</em><span class="optional">[</span>, <em>calculate_absorption=True</em>, <em>wavelengths=None</em>, <em>periodic=True</em>, <em>filter_strength=0.0</em>, <em>blur=None</em>, <em>blurmode=&quot;left&quot;</em>, <em>use_kp=True</em>, <em>use_Adachi=False</em>, <em>alpha_params=None</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#SolveQWproperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Considers the device as a QW and solves its properties, including the modification of the bandeges due to strain, the efective mases and the absorption coefficient. Without calling this function, the structure is just a colection of layers with bulk-like properties.</p>
<p><strong>Output</strong>: A dictionary with the output of the Schrodinger solver.</p>
<p><strong>Example 2:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Example 2</span>
<span class="c1"># ---------</span>
<span class="c1"># This example illustrates the creation of a QW structure with 40 wells, solve its quantum properties and</span>
<span class="c1"># add it to the intrinsic region of a p-i-n solar cell</span>

<span class="kn">import</span> <span class="nn">solcore3.PDD</span> <span class="k">as</span> <span class="nn">PDD</span>
<span class="kn">from</span> <span class="nn">solcore3</span> <span class="k">import</span> <span class="n">Layer</span><span class="p">,</span> <span class="n">material</span>

<span class="c1"># First, we create the materials of the QW</span>
<span class="n">QWmat</span>       <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;InGaAs&#39;</span><span class="p">)</span>    <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">In</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">Bmat</span>        <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAsP&#39;</span><span class="p">)</span>     <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">i_GaAs</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">)</span>      <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

<span class="c1"># The QW is 7 nm wide, with GaAs interlayers 2 nm thick at each side and GaAsP barriers 10 nm thick.</span>
<span class="c1"># The final device will have 40 of these QWs.</span>
<span class="n">QW</span> <span class="o">=</span> <span class="n">PDD</span><span class="o">.</span><span class="n">CreateDeviceStructure</span><span class="p">(</span> <span class="s1">&#39;QW&#39;</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">repeat</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="n">layers</span> <span class="o">=</span> <span class="p">[</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>          <span class="n">material</span> <span class="o">=</span> <span class="n">Bmat</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;barrier&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">2</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>           <span class="n">material</span> <span class="o">=</span> <span class="n">i_GaAs</span><span class="p">,</span>         <span class="n">role</span><span class="o">=</span><span class="s2">&quot;interlayer&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">7</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>           <span class="n">material</span> <span class="o">=</span> <span class="n">QWmat</span><span class="p">,</span>          <span class="n">role</span><span class="o">=</span><span class="s2">&quot;well&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">2</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>           <span class="n">material</span> <span class="o">=</span> <span class="n">i_GaAs</span><span class="p">,</span>         <span class="n">role</span><span class="o">=</span><span class="s2">&quot;interlayer&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>          <span class="n">material</span> <span class="o">=</span> <span class="n">Bmat</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;barrier&quot;</span><span class="p">),</span>
                                 <span class="p">])</span>

<span class="c1"># We solve the quantum properties of the QW, leaving the default values of all parameters</span>
<span class="n">PDD</span><span class="o">.</span><span class="n">SolveQWproperties</span><span class="p">(</span><span class="n">QW</span><span class="p">)</span>

<span class="c1"># We create the other materials we need for the device</span>
<span class="n">window</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;AlGaAs&#39;</span><span class="p">)</span>    <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Na</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e24</span><span class="p">,</span> <span class="n">Al</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">p_GaAs</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">)</span>      <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Na</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e24</span><span class="p">)</span>
<span class="n">n_GaAs</span>      <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;GaAs&#39;</span><span class="p">)</span>      <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Nd</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e23</span><span class="p">)</span>
<span class="n">bsf</span>         <span class="o">=</span> <span class="n">material</span><span class="p">(</span><span class="s1">&#39;AlGaAs&#39;</span><span class="p">)</span>    <span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">Nd</span> <span class="o">=</span> <span class="mi">1</span><span class="n">e24</span><span class="p">,</span> <span class="n">Al</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>

<span class="c1"># And finally we create another p-i-n structure incorporating the QWs in the intrinsic region.</span>
<span class="n">MyDevice</span> <span class="o">=</span> <span class="n">PDD</span><span class="o">.</span><span class="n">CreateDeviceStructure</span><span class="p">(</span> <span class="s1">&#39;TestDevice&#39;</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">layers</span> <span class="o">=</span> <span class="p">[</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">30</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>         <span class="n">material</span> <span class="o">=</span> <span class="n">window</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Window&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">400</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">p_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Emitter&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">i_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Intrinsic&quot;</span><span class="p">),</span>
                            <span class="n">QW</span><span class="p">,</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">i_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Intrinsic&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">2000</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>       <span class="n">material</span> <span class="o">=</span> <span class="n">n_GaAs</span><span class="p">,</span>           <span class="n">role</span><span class="o">=</span><span class="s2">&quot;Base&quot;</span><span class="p">),</span>
                            <span class="n">Layer</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">200</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span>        <span class="n">material</span> <span class="o">=</span> <span class="n">bsf</span><span class="p">,</span>              <span class="n">role</span><span class="o">=</span><span class="s2">&quot;BSF&quot;</span><span class="p">)</span>
                            <span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Save">
<code class="descname">Save</code><span class="sig-paren">(</span><em>device</em>, <em>filename</em><span class="optional">[</span>, <em>save_absorptions_individually=False</em>, <em>remove_absorption_from_json=False</em>, <em>override_absorption=False</em>, <em>directory='default'</em>, <em>yaml=False</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the structure in a text file. The default file format is <em>json</em>, although <em>yaml</em> can also be selected. The file extension is added automatically to <em>filename</em>. The layout of the file is not very nice but it is human readable, cross platform and independent of the programing language. In Python, <em>json</em> is part of the standard library, contrary to <em>yaml</em> that has to be installed separately.</p>
<p>An option is given to save the absorption coefficients in individual files inside the default subdirectory (= &#8216;filename_inputs&#8217;), as well as removing them from the <em>json/yaml</em> file, greatly improving the readability.</p>
<p><strong>Example 3:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Example 3</span>
<span class="c1"># ---------</span>
<span class="c1"># Following the previous example, we can save the properties of the QW and the final device.</span>
<span class="c1"># We choose to keep the absorption coeficients in separate files but leave the default directory.</span>
<span class="c1"># The directory containing the absorption coefficients will be &#39;myQW_inputs&#39; and the name of the files will have the following pattern:</span>
<span class="c1">#</span>
<span class="c1">#       &lt;deviceName&gt;_&lt;layerNumber&gt;_&lt;layerComposition&gt;_&lt;layerRole&gt;.dat</span>
<span class="c1">#</span>
<span class="c1"># The absorption of the well itself will be: &#39;QW_2_In0.2GaAs_well.dat&#39;</span>
<span class="n">PDD</span><span class="o">.</span><span class="n">Save</span><span class="p">(</span><span class="n">QW</span><span class="p">,</span> <span class="s1">&#39;myQW&#39;</span><span class="p">,</span> <span class="n">save_absorptions_individually</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_absorption_from_json</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># And the same for the complete device:</span>
<span class="n">PDD</span><span class="o">.</span><span class="n">Save</span><span class="p">(</span><span class="n">MyDevice</span><span class="p">,</span> <span class="s1">&#39;MyDevice&#39;</span><span class="p">,</span> <span class="n">save_absorptions_individually</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_absorption_from_json</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Load">
<code class="descname">Load</code><span class="sig-paren">(</span><em>filename</em><span class="optional">[</span>, <em>yaml=False</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Load" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a structure from a <em>json/yaml</em> file created with <em>Save</em>. Other files created with a valid <em>json/yaml</em> syntax are accepted without any checking of whether they are valid structures or not. If they are not valid, they will produce an error later in the program . The safest option is to create the structure with <em>Save</em> or, at least, use an existing file with a structure as template in case you prefere doing it &#8216;by hand&#8217;. Absorption coeficients from external files will be loaded, if present.</p>
<p><strong>Output</strong>: dictionary with all the information of the structure, as in <em>CreateDeviceStructure</em> above.</p>
<p><strong>Example 4:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Example 4</span>
<span class="c1"># ---------</span>
<span class="c1"># Once saved, the structures can be used in other Python scripts. In this final example,</span>
<span class="c1"># we load &#39;MySample.json&#39; of the previous example and change the thickness and doping of the emitter.</span>

<span class="kn">import</span> <span class="nn">solcore3.PDD</span> <span class="k">as</span> <span class="nn">PDD</span>

<span class="c1"># NewDevice now contains the structure of MyDevice</span>
<span class="n">NewDevice</span> <span class="o">=</span> <span class="n">PDD</span><span class="o">.</span><span class="n">Load</span><span class="p">(</span><span class="s1">&#39;MyDevice&#39;</span><span class="p">)</span>

<span class="n">NewDevice</span><span class="p">[</span><span class="s1">&#39;layers&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">200</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span>
<span class="n">NewDevice</span><span class="p">[</span><span class="s1">&#39;layers&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;Na&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span><span class="n">e24</span>

<span class="c1"># We save the structure of the new device</span>
<span class="n">PDD</span><span class="o">.</span><span class="n">Save</span><span class="p">(</span><span class="n">NewDevice</span><span class="p">,</span> <span class="s1">&#39;NewDevice_ThinEmitter&#39;</span><span class="p">,</span> <span class="n">save_absorptions_individually</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_absorption_from_json</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="other-functions">
<h2>Other functions<a class="headerlink" href="#other-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="AddLayers">
<code class="descname">AddLayers</code><span class="sig-paren">(</span><em>device</em>, <em>layers</em><span class="sig-paren">)</span><a class="headerlink" href="#AddLayers" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a list of objects of class <em>solcore3.Layer</em> or a full device structure created with <em>CreateDeviceStructure</em> to the structure. They are appended to the end of the current tree of layers. <em>Layers</em> must be a list, even if it is only one layer.</p>
</dd></dl>

<dl class="function">
<dt id="RemoveLayer">
<code class="descname">RemoveLayer</code><span class="sig-paren">(</span><em>device</em>, <em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#RemoveLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes layer &#8216;i&#8217; from the structure.</p>
</dd></dl>

<dl class="function">
<dt id="GetLayerProperties">
<code class="descname">GetLayerProperties</code><span class="sig-paren">(</span><em>layer</em>, <em>T</em><span class="sig-paren">)</span><a class="headerlink" href="#GetLayerProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the properties of a <em>solcore3.Layer</em>. The output is a dictionary with all the properties of the layer - or the default properties, if not available. Is called internally by <em>AddLayers</em> above. It calls the <em>mobility</em> module to calculate the carrier mobilities if they are not included as an input.</p>
</dd></dl>

<dl class="function">
<dt id="LoadAbsorption">
<code class="descname">LoadAbsorption</code><span class="sig-paren">(</span><em>layer</em>, <em>T</em><span class="optional">[</span>, <em>wavelengths=None</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#LoadAbsorption" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the absorption of the layer, either from the corresponding file or calculating it from the material properties. It is called automatically when running a drift difusion experiments that requires the absorption.</p>
</dd></dl>

<dl class="function">
<dt id="InLineComposition">
<code class="descname">InLineComposition</code><span class="sig-paren">(</span><em>layer</em><span class="sig-paren">)</span><a class="headerlink" href="#InLineComposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a string with the composition of the layer, e.g.: <code class="code docutils literal"><span class="pre">In0.2GaAs</span></code></p>
</dd></dl>

<dl class="function">
<dt id="SolcoreMaterialToStr">
<code class="descname">SolcoreMaterialToStr</code><span class="sig-paren">(</span><em>material_input</em><span class="sig-paren">)</span><a class="headerlink" href="#SolcoreMaterialToStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <em>solcore3.material</em>, produces a dictionary with its composition. e.g.: <code class="code docutils literal"><span class="pre">{</span> <span class="pre">'material'</span> <span class="pre">=</span> <span class="pre">'InGaAs',</span> <span class="pre">'element'</span> <span class="pre">=</span> <span class="pre">'In',</span> <span class="pre">'fraction'</span> <span class="pre">=</span> <span class="pre">'0.2'</span> <span class="pre">}</span></code>. Currently it only works with binaries and ternaies alloys.</p>
</dd></dl>

<dl class="function">
<dt id="ToSolcoreMaterial">
<code class="descname">ToSolcoreMaterial</code><span class="sig-paren">(</span><em>comp</em>, <em>T</em><span class="optional">[</span>, <em>execute=False</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#ToSolcoreMaterial" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces either a string with the defeinition of a <em>solcore3.material</em> (default) or a <em>solcore3.material</em> itself based on a dictionary with the composition of the material as produced by <em>SolcoreMaterialToStr</em>.</p>
</dd></dl>

<dl class="function">
<dt id="ToLayer">
<code class="descname">ToLayer</code><span class="sig-paren">(</span><em>width</em>, <em>material</em>, <em>role</em><span class="sig-paren">)</span><a class="headerlink" href="#ToLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a <em>solcore3.Layer</em> based on the temperature, composition and thicknesses (and nothing else) of a material, as produced by <em>ToSolcoreMaterial</em>.</p>
</dd></dl>

<dl class="function">
<dt id="ToStructure">
<code class="descname">ToStructure</code><span class="sig-paren">(</span><em>device</em><span class="sig-paren">)</span><a class="headerlink" href="#ToStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of <em>solcore3.Layers</em> and create an opbject of class <em>solcore3.Structure</em>.</p>
</dd></dl>

</div>
<div class="section" id="default-material">
<span id="id2"></span><h2>Default material<a class="headerlink" href="#default-material" title="Permalink to this headline">¶</a></h2>
<p>The default material is <strong>GaAs at 293K</strong>. In general, all the intrinsic properties of the materials are taken from the literature and calculated by the <code class="docutils literal"><span class="pre">solcore3</span></code> material system. If not found there (for example if the material or alloy is not in the database) or if they are extrinsic, the default values below are used. The extrinsic properties, that depend on the quality of the material or its doping, are just asigned a &#8216;reasonable&#8217; value. The user must make sure that this &#8216;reasonable&#8217; value is indeed resonable for the intended application and override it with his/her own, otherwise.</p>
<p>The total list of parameters and the default values are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="23%" />
<col width="18%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Default value</th>
<th class="head">Units</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>band_gap</td>
<td>Calculated for GaAs at 293K</td>
<td>J</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>electron_affinity</td>
<td>Calculated for GaAs at 293K</td>
<td>J</td>
<td>-</td>
</tr>
<tr class="row-even"><td>eff_mass_electron_Gamma</td>
<td>Calculated for GaAs at 293K</td>
<td>relative to m0</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>eff_mass_hh_z</td>
<td>Calculated for GaAs at 293K</td>
<td>relative to m0</td>
<td>-</td>
</tr>
<tr class="row-even"><td>eff_mass_lh_z</td>
<td>Calculated for GaAs at 293K</td>
<td>relative to m0</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>permittivity</td>
<td>12.9</td>
<td>relative to epsilon0</td>
<td>-</td>
</tr>
<tr class="row-even"><td>electron_mobility</td>
<td>Calculated for GaAs at 293K</td>
<td>m2 V-1 s-1</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>hole_mobility</td>
<td>Calculated for GaAs at 293K</td>
<td>m2 V-1 s-1</td>
<td>-</td>
</tr>
<tr class="row-even"><td>electron_minority_lifetime</td>
<td>3e-6</td>
<td>s</td>
<td>SRH <a class="footnote-reference" href="#f1" id="id3">[1]</a> recombination time for electrons</td>
</tr>
<tr class="row-odd"><td>hole_minority_lifetime</td>
<td>2.5e-7</td>
<td>s</td>
<td>SRH recombination time for holes</td>
</tr>
<tr class="row-even"><td>electron_auger_recombination</td>
<td>1e-42</td>
<td>m6 s-1</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>hole_auger_recombination</td>
<td>1e-42</td>
<td>m6 s-1</td>
<td>-</td>
</tr>
<tr class="row-even"><td>radiative_recombination</td>
<td>7.2e-16</td>
<td>m3 s-1</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>Nd</td>
<td>1</td>
<td>m-3</td>
<td>Density of donors</td>
</tr>
<tr class="row-even"><td>Na</td>
<td>1</td>
<td>m-3</td>
<td>Density of acceptors</td>
</tr>
<tr class="row-odd"><td>sn</td>
<td>1e6</td>
<td>m s-1</td>
<td>Surface recombination velocity for electrons</td>
</tr>
<tr class="row-even"><td>sp</td>
<td>1e6</td>
<td>m s-1</td>
<td>Surface recombination velocity for holes</td>
</tr>
<tr class="row-odd"><td>absorption_file</td>
<td>None</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>Shockley-Read-Hall</td></tr>
</tbody>
</table>
</div>
<div class="section" id="module-solcore.poisson_drift_diffusion.DeviceStructure">
<span id="all-functions-description"></span><h2>All functions description<a class="headerlink" href="#module-solcore.poisson_drift_diffusion.DeviceStructure" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.CreateDeviceStructure">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">CreateDeviceStructure</code><span class="sig-paren">(</span><em>name</em>, <em>role='device'</em>, <em>T=293</em>, <em>layers=[]</em>, <em>comments=''</em>, <em>repeat=1</em>, <em>substrate=&lt;'GaAs' material&gt;</em>, <em>reflection=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#CreateDeviceStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.CreateDeviceStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the structure of a device to be used in drift diffusion calculations.</p>
<p>This class defines an object that can be used in drift diffusion calculations. 
It has the advantage over the old Sample class (based on the Structure class) of being organised in a format that than be easily stored
using Json or managed by the upcoming front end, Sunglasses.</p>
<p>With minimum coding effort, it should be possible to use it with the Schrodinger solver, analythical methods, etc.</p>
<p>TO BE DONE: This should be replaced by a state_object, the same way it is done in the analytical solar cell solvers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Name of the structure</li>
<li><strong>role</strong> &#8211; Role of the structure (eg. &#8220;device&#8221;, &#8220;MQW&#8221;, etc)</li>
<li><strong>T</strong> &#8211; Temperature</li>
<li><strong>layers</strong> &#8211; List containing all the layers of the structure</li>
<li><strong>comments</strong> &#8211; A string with comments</li>
<li><strong>repeat</strong> &#8211; If the structure is actually something that is repeated many times, for example a quantum well</li>
<li><strong>substrate</strong> &#8211; A solcore material defining the substrate of the structure.</li>
<li><strong>reflection</strong> &#8211; The reflexion of the structure</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary-like object with all the information related to the device</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.AddLayers">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">AddLayers</code><span class="sig-paren">(</span><em>device</em>, <em>layers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#AddLayers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.AddLayers" title="Permalink to this definition">¶</a></dt>
<dd><p>Add layers to the structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> &#8211; The device structure</li>
<li><strong>layers</strong> &#8211; A list with the layers to add</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.Load">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">Load</code><span class="sig-paren">(</span><em>filename</em>, <em>yaml=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#Load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.Load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a device structure stored in a file. By default, the file must be JSON format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; The filename</li>
<li><strong>yaml</strong> &#8211; If the format is YALM rather than JSON</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A device structure</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.Save">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">Save</code><span class="sig-paren">(</span><em>device</em>, <em>filename</em>, <em>save_absorptions_individually=False</em>, <em>remove_absorption_from_json=False</em>, <em>override_absorption=False</em>, <em>directory='default'</em>, <em>yaml=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#Save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.Save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the device structure to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> &#8211; The device structure to save</li>
<li><strong>filename</strong> &#8211; The filename</li>
<li><strong>save_absorptions_individually</strong> &#8211; If the absorption of the materials must be saved in individual files</li>
<li><strong>remove_absorption_from_json</strong> &#8211; If the absorption must be removed from the JSON file to make it more readable</li>
<li><strong>override_absorption</strong> &#8211; If the external absrption files must override the default absorption</li>
<li><strong>directory</strong> &#8211; Directory in which to save the absorption data</li>
<li><strong>yaml</strong> &#8211; If YALM should be used rather than JSON</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.RemoveLayer">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">RemoveLayer</code><span class="sig-paren">(</span><em>device</em>, <em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#RemoveLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.RemoveLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a layer from the device structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> &#8211; the device structure</li>
<li><strong>i</strong> &#8211; the index of the layer to remove</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.GetLayerProperties">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">GetLayerProperties</code><span class="sig-paren">(</span><em>layer</em>, <em>T</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#GetLayerProperties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.GetLayerProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a layer, get all the properties of that layer and the material it is made of at the given temperature</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layer</strong> &#8211; The layer of interest</li>
<li><strong>T</strong> &#8211; The temperature</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Dictionary with all the properties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.LoadAbsorption">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">LoadAbsorption</code><span class="sig-paren">(</span><em>layer</em>, <em>T</em>, <em>wavelengths</em>, <em>use_Adachi=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#LoadAbsorption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.LoadAbsorption" title="Permalink to this definition">¶</a></dt>
<dd><p>If there is a file containing the absorption in this layer, we try to load it. It must have at least two
columns: wavelengths and absorption coefficient. Both must be in SI units. The result is interpolated to the current
working wavelengths.</p>
<p>The file can not be loaded: Maybe it does not exists or is not in the correct format. We move forward to
calculating the absorption. Later, the calculated absorption can be saved with this filename.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layer</strong> &#8211; The layer we want to get the absorption coefficient from.</li>
<li><strong>T</strong> &#8211; The temperature</li>
<li><strong>wavelengths</strong> &#8211; The wavelength we want the absorption at</li>
<li><strong>use_Adachi</strong> &#8211; If we should use the Adachi method to get the absorption coeficient.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list with two columns, the wavelnegths and the absorption coeficient.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.SolveQWproperties">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">SolveQWproperties</code><span class="sig-paren">(</span><em>device</em>, <em>calculate_absorption=True</em>, <em>WLsteps=(3e-07</em>, <em>1.1e-06</em>, <em>201)</em>, <em>wavelengths=None</em>, <em>periodic=True</em>, <em>filter_strength=0.0</em>, <em>blur=None</em>, <em>blurmode='left'</em>, <em>mode='kp8x8_bulk'</em>, <em>use_Adachi=False</em>, <em>alpha_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#SolveQWproperties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.SolveQWproperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Considers the device as a QW and solves its properties, including the modification of the bandeges due to strain, the efective mases and the absorption coefficient. Without calling this function, the structure is just a colection of layers with bulk-like properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> &#8211; The device structure</li>
<li><strong>calculate_absorption</strong> &#8211; If absorption must be calculated</li>
<li><strong>WLsteps</strong> &#8211; wavelengths in which to calculate the absorption (input for np.linspace function)</li>
<li><strong>wavelengths</strong> &#8211; An array with the waveengths</li>
<li><strong>periodic</strong> &#8211; If it has to be assumed that the structure is perdiodic</li>
<li><strong>filter_strength</strong> &#8211; </li>
<li><strong>blur</strong> &#8211; </li>
<li><strong>blurmode</strong> &#8211; </li>
<li><strong>mode</strong> &#8211; </li>
<li><strong>use_Adachi</strong> &#8211; </li>
<li><strong>alpha_params</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary with the output of the Schrodinger solver.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.calculate_reflection">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">calculate_reflection</code><span class="sig-paren">(</span><em>device</em>, <em>wavelengths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#calculate_reflection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.calculate_reflection" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the reflexion of a device structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> &#8211; The device structure</li>
<li><strong>wavelengths</strong> &#8211; The wavelengths</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The reflexion at the given wavelengths</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="solcore.poisson_drift_diffusion.DeviceStructure.calculate_optics">
<code class="descclassname">solcore.poisson_drift_diffusion.DeviceStructure.</code><code class="descname">calculate_optics</code><span class="sig-paren">(</span><em>device</em>, <em>wavelengths</em>, <em>dist=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/solcore/poisson_drift_diffusion/DeviceStructure.html#calculate_optics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#solcore.poisson_drift_diffusion.DeviceStructure.calculate_optics" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the transfer matrix solver to calculate the optical properties of the structure: that is, the reflection
and the absorption as a function of the position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> &#8211; A device structure</li>
<li><strong>wavelengths</strong> &#8211; The wavelengths at which to calculate the optical information (in m)</li>
<li><strong>dist</strong> &#8211; The positions at which to calculate the absorption (in m). If None, it is calculated internally.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary with the reflection, the position, the wavelengths and the absorption as a function of</p>
</td>
</tr>
</tbody>
</table>
<p>the wavelength and position.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Device Structure</a><ul>
<li><a class="reference internal" href="#main-functions">Main functions</a></li>
<li><a class="reference internal" href="#other-functions">Other functions</a></li>
<li><a class="reference internal" href="#default-material">Default material</a></li>
<li><a class="reference internal" href="#module-solcore.poisson_drift_diffusion.DeviceStructure">All functions description</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="DDsolver.html"
                        title="previous chapter">Poisson - Drift-Diffusion solver (PDD)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="DriftDiffusionUtilities.html"
                        title="next chapter">Drift Diffusion Utilities</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/PDD/DeviceStructure.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="DriftDiffusionUtilities.html" title="Drift Diffusion Utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="DDsolver.html" title="Poisson - Drift-Diffusion solver (PDD)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Solcore 4.1.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="DDsolver.html" >Poisson - Drift-Diffusion solver (PDD)</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Quantum Photovoltaics Group, Imperial College London.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>